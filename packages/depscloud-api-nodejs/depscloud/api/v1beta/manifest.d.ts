// Code generated by protoc-gen-dts. DO NOT EDIT.
// source: depscloud/api/v1beta/manifest.proto

import {
  ChannelCredentials, 
  Client, 
  ClientUnaryCall,
  ClientReadableStream,
  ClientWritableStream,
  ClientDuplexStream,
  Metadata,
  ServerUnaryCall,
  ServerReadableStream,
  ServerWritableStream,
  ServerDuplexStream,
  ServiceDefinition,
} from "@grpc/grpc-js";

export interface ManifestDependency {
  name: string;
  versionConstraint: string;
  scopes: Array<string>;
}

export interface ManifestFile {
  language: string;
  system: string;
  sourceUrl: string;
  name: string;
  version: string;
  dependencies: Array<ManifestDependency>;
}

export interface MatchRequest {
  separator: string;
  paths: Array<string>;
}

export interface MatchResponse {
  matchedPaths: Array<string>;
}

export interface ExtractRequest {
  separator: string;
  fileContents: ExtractRequest_FileContentsEntry;
}

export type ExtractRequest_FileContentsEntry = { [key: string]: string }

export interface ExtractResponse {
  manifestFiles: Array<ManifestFile>;
}

export interface StoreRequest {
  url: string;
  ref: string;
  kind: string;
  manifestFiles: Array<ManifestFile>;
}

export interface StoreResponse {
}

export interface IManifestExtractionService { 
  match(call: ServerUnaryCall<MatchRequest, MatchResponse>, callback: (error: Error, response: MatchResponse) => void): void; 
  extract(call: ServerUnaryCall<ExtractRequest, ExtractResponse>, callback: (error: Error, response: ExtractResponse) => void): void;
}

export class ManifestExtractionService extends Client {
  public static service: ServiceDefinition<IManifestExtractionService>;

  constructor(address: string, credentials: ChannelCredentials, options?: object); 
  public match(request: MatchRequest, callback: (error: Error, response: MatchResponse) => void): void;
  public match(request: MatchRequest, metadata: Metadata, callback: (error: Error, response: MatchResponse) => void): void; 
  public extract(request: ExtractRequest, callback: (error: Error, response: ExtractResponse) => void): void;
  public extract(request: ExtractRequest, metadata: Metadata, callback: (error: Error, response: ExtractResponse) => void): void;
}

export interface IManifestStorageService { 
  store(call: ServerUnaryCall<StoreRequest, StoreResponse>, callback: (error: Error, response: StoreResponse) => void): void;
}

export class ManifestStorageService extends Client {
  public static service: ServiceDefinition<IManifestStorageService>;

  constructor(address: string, credentials: ChannelCredentials, options?: object); 
  public store(request: StoreRequest, callback: (error: Error, response: StoreResponse) => void): void;
  public store(request: StoreRequest, metadata: Metadata, callback: (error: Error, response: StoreResponse) => void): void;
}

